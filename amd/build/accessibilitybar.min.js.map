{
    "version": 3,
    "file": "accessibilitybar.min.js",
    "sources": ["../src/accessibilitybar.js"],
    "sourcesContent": ["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free sof" +
            "tware: you can redistribute it and/or modify\n// it under the terms of the GNU" +
            " General Public License as published by\n// the Free Software Foundation, eith" +
            "er version 3 of the License, or\n// (at your option) any later version.\n//\n/" +
            "/ Moodle is distributed in the hope that it will be useful,\n// but WITHOUT AN" +
            "Y WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNES" +
            "S FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more d" +
            "etails.\n//\n// You should have received a copy of the GNU General Public Lice" +
            "nse\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**" +
            "\n * Contain the logic for accessibility bar.\n *\n * @package\n * @copyright " +
            " 2025 Septian Dwi Cahyo- https://tiancode.my.id\n * @license    http://www.gnu.org/cop" +
            "yleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/ajax'], funct" +
            "ion(jQuery, Ajax) {\n\n    window.jQuery = jQuery;\n\n    var SELECTORS = {\n " +
            "       FONT_SIZE: '#fontsize_dec, #fontsize_reset, #fontsize_inc',\n        SI" +
            "TE_COLOR: '#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor" +
            "_color4'\n    };\n\n    var fontsizeClass = null;\n    var fontsizeClassOp = n" +
            "ull;\n    var fontsizeClassSize = null;\n    var fontsizeCurrentAction = null;" +
            "\n    var sitecolorCurrentAction = null;\n\n    var AccessibilityBar = functio" +
            "n() {\n        var classList = jQuery('body').attr('class').split(/\\s+/);\n  " +
            "      jQuery.each(classList, function(index, item) {\n            if (item.inc" +
            "ludes('fontsize-inc-') || item.includes('fontsize-dec-')) {\n                v" +
            "ar itemarr = item.split('-');\n\n                fontsizeClass = item;\n      " +
            "          fontsizeClassOp = itemarr[1];\n                fontsizeClassSize = i" +
            "temarr[2];\n            }\n        });\n\n        this.toggleFontsizeButtons()" +
            ";\n\n        this.registerEventListeners();\n    };\n\n    AccessibilityBar.pr" +
            "ototype.registerEventListeners = function() {\n        jQuery(SELECTORS.FONT_S" +
            "IZE).click(function(element) {\n            var btn = jQuery(element.currentTa" +
            "rget);\n\n            fontsizeCurrentAction = btn.data('action');\n\n         " +
            "   this.fontSize();\n        }.bind(this));\n\n        jQuery(SELECTORS.SITE_C" +
            "OLOR).click(function(element) {\n            var btn = jQuery(element.currentT" +
            "arget);\n\n            sitecolorCurrentAction = btn.data('action');\n\n       " +
            "     this.siteColor();\n        }.bind(this));\n    };\n\n    AccessibilityBar" +
            ".prototype.fontSize = function() {\n        var request = Ajax.call([{\n      " +
            "      methodname: 'theme_president_fontsize',\n            args: {\n          " +
            "      action: fontsizeCurrentAction\n            }\n        }]);\n\n        re" +
            "quest[0].done(function() {\n            this.reloadFontsizeClass();\n        }" +
            ".bind(this));\n    };\n\n    AccessibilityBar.prototype.reloadFontsizeClass = " +
            "function() {\n        if (fontsizeCurrentAction === 'reset'\n            || (f" +
            "ontsizeCurrentAction === 'increase' && fontsizeClass === 'fontsize-dec-1')\n  " +
            "          || (fontsizeCurrentAction === 'decrease' && fontsizeClass === 'fonts" +
            "ize-inc-1')\n        ) {\n            jQuery('body').removeClass(fontsizeClass" +
            ");\n            fontsizeClass = null;\n            fontsizeClassOp = null;\n  " +
            "          fontsizeClassSize = null;\n\n            this.toggleFontsizeButtons(" +
            ");\n\n            return;\n        }\n\n        if (fontsizeCurrentAction === " +
            "'increase') {\n            if (fontsizeClassSize === null) {\n                " +
            "fontsizeClass = 'fontsize-inc-1';\n                fontsizeClassOp = 'inc';\n " +
            "               fontsizeClassSize = 1;\n            } else if (fontsizeClassOp " +
            "=== 'inc' && fontsizeClassSize < 6) {\n                jQuery('body').removeCl" +
            "ass(fontsizeClass);\n                fontsizeClassSize++;\n                fon" +
            "tsizeClass = 'fontsize-inc-' + fontsizeClassSize;\n            } else if (font" +
            "sizeClassOp === 'dec') {\n                jQuery('body').removeClass(fontsizeC" +
            "lass);\n                fontsizeClassSize--;\n                fontsizeClass = " +
            "'fontsize-dec-' + fontsizeClassSize;\n            }\n\n            jQuery('bod" +
            "y').addClass(fontsizeClass);\n        }\n\n        if (fontsizeCurrentAction =" +
            "== 'decrease') {\n            if (fontsizeClassSize === null) {\n             " +
            "   fontsizeClass = 'fontsize-dec-1';\n                fontsizeClassOp = 'dec';" +
            "\n                fontsizeClassSize = 1;\n            } else if (fontsizeClass" +
            "Op === 'dec' && fontsizeClassSize < 6) {\n                jQuery('body').remov" +
            "eClass(fontsizeClass);\n                fontsizeClassSize++;\n                " +
            "fontsizeClass = 'fontsize-dec-' + fontsizeClassSize;\n            } else if (f" +
            "ontsizeClassOp === 'inc') {\n                jQuery('body').removeClass(fontsi" +
            "zeClass);\n                fontsizeClassSize--;\n                fontsizeClass" +
            " = 'fontsize-inc-' + fontsizeClassSize;\n            }\n\n            jQuery('" +
            "body').addClass(fontsizeClass);\n        }\n\n        this.toggleFontsizeButto" +
            "ns();\n    };\n\n    AccessibilityBar.prototype.toggleFontsizeButtons = functi" +
            "on() {\n        if (fontsizeClass === null) {\n            jQuery('#fontsize_r" +
            "eset').addClass('disabled');\n            jQuery('#fontsize_inc').removeClass(" +
            "'disabled');\n            jQuery('#fontsize_dec').removeClass('disabled');\n  " +
            "      }\n\n        if (fontsizeClass !== null) {\n            jQuery('#fontsiz" +
            "e_reset').removeClass('disabled');\n        }\n\n        if (fontsizeClassOp =" +
            "== 'inc') {\n            if (fontsizeClassSize == 6) {\n                jQuery" +
            "('#fontsize_inc').addClass('disabled');\n            }\n\n            if (font" +
            "sizeClassSize < 6) {\n                jQuery('#fontsize_inc').removeClass('dis" +
            "abled');\n            }\n        }\n\n        if (fontsizeClassOp === 'dec') {" +
            "\n            if (fontsizeClassSize == 6) {\n                jQuery('#fontsize" +
            "_dec').addClass('disabled');\n            }\n\n            if (fontsizeClassSi" +
            "ze < 6) {\n                jQuery('#fontsize_dec').removeClass('disabled');\n " +
            "           }\n        }\n    };\n\n    AccessibilityBar.prototype.siteColor = " +
            "function() {\n        var request = Ajax.call([{\n            methodname: 'the" +
            "me_president_sitecolor',\n            args: {\n                action: sitecol" +
            "orCurrentAction\n            }\n        }]);\n\n        request[0].done(functi" +
            "on() {\n            this.reloadSitecolorClass();\n        }.bind(this));\n    " +
            "};\n\n    AccessibilityBar.prototype.reloadSitecolorClass = function() {\n    " +
            "    jQuery('body').removeClass(function(index, className) {\n            retur" +
            "n (className.match(/(^|\\s)sitecolor-color-\\S+/g) || []).join(' ');\n        " +
            "});\n\n        if (sitecolorCurrentAction !== 'reset') {\n            jQuery('" +
            "body').addClass(sitecolorCurrentAction);\n        }\n    };\n\n    return {\n " +
            "       'init': function() {\n            return new AccessibilityBar();\n     " +
            "   }\n    };\n});"],
    "names": [
        "define",
        "jQuery",
        "Ajax",
        "window",
        "SELECTORS",
        "fontsizeClass",
        "fontsizeClassOp",
        "fontsizeClassSize",
        "fontsizeCurrentAction",
        "sitecolorCurrentAction",
        "AccessibilityBar",
        "classList",
        "attr",
        "split",
        "each",
        "index",
        "item",
        "includes",
        "itemarr",
        "toggleFontsizeButtons",
        "registerEventListeners",
        "prototype",
        "click",
        "element",
        "btn",
        "currentTarget",
        "data",
        "fontSize",
        "bind",
        "this",
        "siteColor",
        "call",
        "methodname",
        "args",
        "action",
        "done",
        "reloadFontsizeClass",
        "removeClass",
        "addClass",
        "reloadSitecolorClass",
        "className",
        "match",
        "join"
    ],
    "mappings": ";;;;;;;AAsBAA,sCAAO,CAAC,SAAU,cAAc,SAASC,OAAQC,MAE7CC,OAAOF,OAASA,WAEZG,oBACW," +
            "gDADXA,qBAEY,6EAGZC,cAAgB,KAChBC,gBAAkB,KAClBC,kBAAoB,KACpBC,sBAAwB,KACxBC,uBA" +
            "AyB,KAEzBC,iBAAmB,eACfC,UAAYV,OAAO,QAAQW,KAAK,SAASC,MAAM,OACnDZ,OAAOa,KAAKH,WA" +
            "AW,SAASI,MAAOC,SAC/BA,KAAKC,SAAS,kBAAoBD,KAAKC,SAAS,iBAAkB,KAC9DC,QAAUF,KAAKH," +
            "MAAM,KAEzBR,cAAgBW,KAChBV,gBAAkBY,QAAQ,GAC1BX,kBAAoBW,QAAQ,YAI/BC,6BAEAC,iCAGT" +
            "V,iBAAiBW,UAAUD,uBAAyB,WAChDnB,OAAOG,qBAAqBkB,MAAM,SAASC,aACnCC,IAAMvB,OAAOsB," +
            "QAAQE,eAEzBjB,sBAAwBgB,IAAIE,KAAK,eAE5BC,YACPC,KAAKC,OAEP5B,OAAOG,sBAAsBkB,MAA" +
            "M,SAASC,aACpCC,IAAMvB,OAAOsB,QAAQE,eAEzBhB,uBAAyBe,IAAIE,KAAK,eAE7BI,aACPF,KAA" +
            "KC,QAGXnB,iBAAiBW,UAAUM,SAAW,WACpBzB,KAAK6B,KAAK,CAAC,CACrBC,WAAY,uBACZC,KAAM," +
            "CACFC,OAAQ1B,0BAIR,GAAG2B,KAAK,gBACPC,uBACPR,KAAKC,QAGXnB,iBAAiBW,UAAUe,oBAAsB" +
            ",cACf,UAA1B5B,uBAC8B,aAA1BA,uBAA0D,mBAAlBH,eACd,aAA1BG,uBAA0D,mBAAlBH,qBAE5CJ," +
            "OAAO,QAAQoC,YAAYhC,eAC3BA,cAAgB,KAChBC,gBAAkB,KAClBC,kBAAoB,eAEfY,wBAKqB,aAA1B" +
            "X,wBAC0B,OAAtBD,mBACAF,cAAgB,iBAChBC,gBAAkB,MAClBC,kBAAoB,GACO,QAApBD,iBAA6BC," +
            "kBAAoB,GACxDN,OAAO,QAAQoC,YAAYhC,eAC3BE,oBACAF,cAAgB,gBAAkBE,mBACP,QAApBD,kBAC" +
            "PL,OAAO,QAAQoC,YAAYhC,eAC3BE,oBACAF,cAAgB,gBAAkBE,mBAGtCN,OAAO,QAAQqC,SAASjC,g" +
            "BAGE,aAA1BG,wBAC0B,OAAtBD,mBACAF,cAAgB,iBAChBC,gBAAkB,MAClBC,kBAAoB,GACO,QAApB" +
            "D,iBAA6BC,kBAAoB,GACxDN,OAAO,QAAQoC,YAAYhC,eAC3BE,oBACAF,cAAgB,gBAAkBE,mBACP,Q" +
            "AApBD,kBACPL,OAAO,QAAQoC,YAAYhC,eAC3BE,oBACAF,cAAgB,gBAAkBE,mBAGtCN,OAAO,QAAQq" +
            "C,SAASjC,qBAGvBc,yBAGTT,iBAAiBW,UAAUF,sBAAwB,WACzB,OAAlBd,gBACAJ,OAAO,mBAAmBqC" +
            ",SAAS,YACnCrC,OAAO,iBAAiBoC,YAAY,YACpCpC,OAAO,iBAAiBoC,YAAY,aAGlB,OAAlBhC,eACA" +
            "J,OAAO,mBAAmBoC,YAAY,YAGlB,QAApB/B,kBACyB,GAArBC,mBACAN,OAAO,iBAAiBqC,SAAS,YAG" +
            "jC/B,kBAAoB,GACpBN,OAAO,iBAAiBoC,YAAY,aAIpB,QAApB/B,kBACyB,GAArBC,mBACAN,OAAO," +
            "iBAAiBqC,SAAS,YAGjC/B,kBAAoB,GACpBN,OAAO,iBAAiBoC,YAAY,cAKhD3B,iBAAiBW,UAAUS,U" +
            "AAY,WACrB5B,KAAK6B,KAAK,CAAC,CACrBC,WAAY,wBACZC,KAAM,CACFC,OAAQzB,2BAIR,GAAG0B" +
            ",KAAK,gBACPI,wBACPX,KAAKC,QAGXnB,iBAAiBW,UAAUkB,qBAAuB,WAC9CtC,OAAO,QAAQoC,aAA" +
            "Y,SAAStB,MAAOyB,kBAC/BA,UAAUC,MAAM,+BAAiC,IAAIC,KAAK,QAGvC,UAA3BjC,wBACAR,OAAO" +
            ",QAAQqC,SAAS7B,yBAIzB,MACK,kBACG,IAAIC"
}